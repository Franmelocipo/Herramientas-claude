/* ============================================
   HERRAMIENTA DE AUDITORÍA - ESTILOS
   ============================================ */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    min-height: 100vh;
    padding-bottom: 40px;
}

/* Barra de navegación */
.nav-bar {
    max-width: 1400px;
    margin: 20px auto 20px;
    padding: 0 24px;
    display: flex;
    gap: 12px;
}

.nav-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 16px;
    background: rgba(255, 255, 255, 0.95);
    color: #374151;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 500;
    font-size: 14px;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.nav-btn:hover {
    background: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Contenedor principal */
.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 24px;
}

/* Header */
.header {
    text-align: center;
    margin-bottom: 32px;
}

.header h1 {
    font-size: 2rem;
    color: #1e293b;
    margin-bottom: 8px;
}

.header p {
    color: #64748b;
    font-size: 1rem;
}

/* Selector de cliente */
.cliente-selector {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    margin-bottom: 24px;
}

.search-box {
    display: flex;
    gap: 16px;
    align-items: flex-end;
    flex-wrap: wrap;
}

.selector-group {
    flex: 2;
    min-width: 300px;
}

.selector-group label {
    display: block;
    font-size: 13px;
    color: #475569;
    margin-bottom: 6px;
    font-weight: 600;
}

.filter-group {
    flex: 1;
    min-width: 200px;
}

.input-text {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    font-size: 14px;
    transition: border-color 0.2s, box-shadow 0.2s;
}

.input-text:focus {
    outline: none;
    border-color: #0ea5e9;
    box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
}

/* Info del cliente */
.cliente-info {
    background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
    padding: 16px 20px;
    border-radius: 12px;
    margin-bottom: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 12px;
}

.cliente-datos h3 {
    margin: 0;
    color: #0369a1;
    font-size: 18px;
}

.cliente-datos span {
    color: #0284c7;
    font-size: 13px;
}

/* Panel de cuentas */
.cuentas-panel {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.info-box {
    background: #f8fafc;
    border-left: 4px solid #0ea5e9;
    padding: 12px 16px;
    border-radius: 0 8px 8px 0;
    margin-bottom: 16px;
    font-size: 13px;
    color: #475569;
}

/* Lista de cuentas */
.cuentas-list {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.cuenta-panel {
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.cuenta-header {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    padding: 16px;
    border-bottom: 1px solid #e2e8f0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 12px;
}

.cuenta-info h4 {
    margin: 0;
    color: #1e293b;
    font-size: 16px;
}

.cuenta-tipo {
    font-weight: normal;
    color: #64748b;
    font-size: 14px;
}

.cuenta-detalle {
    font-size: 13px;
    color: #64748b;
    margin-top: 4px;
}

.cuenta-actions {
    display: flex;
    gap: 8px;
}

/* Grid de extractos */
.extractos-grid-container {
    padding: 16px;
}

.extractos-anio {
    margin-bottom: 16px;
}

.extractos-anio h5 {
    margin: 0 0 8px 0;
    color: #475569;
    font-size: 14px;
}

.extractos-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 6px;
}

.extracto-cell {
    border-radius: 8px;
    padding: 8px 4px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
}

.extracto-cargado {
    background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
    border: 1px solid #86efac;
    position: relative;
}

.extracto-cargado:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
}

.extracto-cargado .extracto-content {
    cursor: pointer;
}

.extracto-cargado .extracto-mes {
    font-weight: 600;
    color: #16a34a;
    font-size: 12px;
}

.extracto-cargado .extracto-mov {
    font-size: 10px;
    color: #22c55e;
}

/* Botón eliminar extracto en celda */
.extracto-delete-btn {
    position: absolute;
    top: 2px;
    right: 2px;
    background: rgba(239, 68, 68, 0.9);
    border: none;
    border-radius: 50%;
    width: 18px;
    height: 18px;
    font-size: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.2s, transform 0.2s;
    z-index: 2;
}

.extracto-cargado:hover .extracto-delete-btn {
    opacity: 1;
}

.extracto-delete-btn:hover {
    background: #dc2626;
    transform: scale(1.15);
}

/* Checkbox de selección de extracto */
.extracto-checkbox {
    position: absolute;
    top: 2px;
    left: 2px;
    width: 16px;
    height: 16px;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s;
    z-index: 3;
    accent-color: #3b82f6;
}

.extracto-cargado:hover .extracto-checkbox,
.extracto-checkbox:checked {
    opacity: 1;
}

/* Extracto seleccionado */
.extracto-seleccionado {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%) !important;
    border: 2px solid #3b82f6 !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

.extracto-seleccionado .extracto-mes {
    color: #1d4ed8 !important;
}

.extracto-seleccionado .extracto-mov {
    color: #3b82f6 !important;
}

.extracto-seleccionado .extracto-checkbox {
    opacity: 1;
}

/* Barra flotante de selección de extractos */
.barra-seleccion-extractos {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    color: white;
    padding: 12px 24px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    gap: 20px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

.barra-seleccion-extractos.hidden {
    display: none;
}

.seleccion-extractos-info {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 500;
}

.seleccion-extractos-info .seleccion-icono {
    font-size: 18px;
}

.seleccion-extractos-acciones {
    display: flex;
    gap: 10px;
}

.seleccion-extractos-acciones .btn-secondary {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
}

.seleccion-extractos-acciones .btn-secondary:hover {
    background: rgba(255, 255, 255, 0.2);
}

.seleccion-extractos-acciones .btn-danger {
    background: #dc2626;
    border: none;
    color: white;
}

.seleccion-extractos-acciones .btn-danger:hover {
    background: #b91c1c;
}

.extracto-vacio {
    background: #f8fafc;
    border: 1px dashed #cbd5e1;
}

.extracto-vacio:hover {
    border-color: #3b82f6;
    background: #eff6ff;
}

.extracto-vacio .extracto-mes {
    font-weight: 500;
    color: #94a3b8;
    font-size: 12px;
}

.extracto-vacio .extracto-mov {
    font-size: 10px;
    color: #cbd5e1;
}

.ver-todos-extractos {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid #e2e8f0;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

/* Botón de rango de fechas */
.btn-rango-fechas {
    flex: 1;
    min-width: 180px;
}

/* Estado vacío */
.empty-state-container {
    text-align: center;
    padding: 60px 20px;
    color: #64748b;
}

.empty-icon {
    font-size: 64px;
    margin-bottom: 16px;
}

.empty-state-container h3 {
    margin: 0 0 8px 0;
    color: #475569;
}

.empty-state-container p {
    margin: 0;
}

.empty-state {
    text-align: center;
    padding: 40px;
    color: #64748b;
}

.loading-state {
    text-align: center;
    padding: 40px;
    color: #64748b;
}

.error-state {
    text-align: center;
    padding: 40px;
    color: #ef4444;
}

/* Modales */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 20px;
}

.modal.hidden {
    display: none;
}

.modal-content {
    background: white;
    border-radius: 16px;
    width: 100%;
    max-width: 900px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
    padding: 24px;
}

.modal-content-sm {
    background: white;
    border-radius: 16px;
    width: 100%;
    max-width: 500px;
    padding: 24px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
}

.modal-lg {
    max-width: 1200px;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 1px solid #e2e8f0;
}

.modal-header h2 {
    margin: 0;
    color: #1e293b;
    font-size: 1.25rem;
}

.close-btn {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #64748b;
    padding: 4px 8px;
    border-radius: 4px;
    transition: all 0.2s;
}

.close-btn:hover {
    background: #f1f5f9;
    color: #1e293b;
}

/* Formularios */
.modal-content-sm label {
    display: block;
    margin-bottom: 4px;
    font-size: 13px;
    color: #475569;
    font-weight: 500;
}

.mb-4 {
    margin-bottom: 16px;
}

.mt-4 {
    margin-top: 16px;
}

/* Botones */
.btn-group {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

.btn-sm {
    padding: 6px 12px !important;
    font-size: 13px !important;
}

.btn-full {
    width: 100%;
}

.toolbar {
    flex-wrap: wrap;
}

/* Filtros del extracto */
.filtros-extracto {
    display: flex;
    gap: 12px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}

.filtro-item {
    flex: 1;
    min-width: 150px;
}

.filtro-item label {
    display: block;
    font-size: 12px;
    color: #64748b;
    margin-bottom: 4px;
}

.filtro-desc {
    flex: 2;
    min-width: 200px;
}

.filtro-btn {
    display: flex;
    align-items: flex-end;
    flex: 0;
    min-width: auto;
}

/* Panel de Marcadores/Categorías */
.marcadores-panel {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 12px 16px;
    margin-bottom: 16px;
}

.asignar-marcador-section {
    margin-bottom: 12px;
    padding-bottom: 12px;
    border-bottom: 1px solid #e2e8f0;
}

.asignar-marcador-row {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
}

.asignar-label {
    font-size: 13px;
    color: #475569;
    font-weight: 500;
    white-space: nowrap;
}

.marcador-select {
    min-width: 180px;
    max-width: 220px;
    padding: 6px 10px;
    font-size: 13px;
}

.filtro-marcadores-section {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
}

.filtro-marcadores-label {
    font-size: 13px;
    color: #475569;
    font-weight: 500;
    white-space: nowrap;
}

.filtro-marcadores-container {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    flex: 1;
}

.marcador-checkbox {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 4px 10px;
    border-radius: 16px;
    background: white;
    border: 1px solid #e2e8f0;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 12px;
}

.marcador-checkbox:hover {
    border-color: #94a3b8;
    background: #f1f5f9;
}

.marcador-checkbox input[type="checkbox"] {
    width: 14px;
    height: 14px;
    cursor: pointer;
}

.marcador-checkbox input[type="checkbox"]:checked + .marcador-label.con-color {
    font-weight: 600;
}

.marcador-checkbox:has(input:checked) {
    background: var(--marcador-color, #94a3b8);
    background: color-mix(in srgb, var(--marcador-color, #94a3b8) 15%, white);
    border-color: var(--marcador-color, #94a3b8);
}

.marcador-label {
    color: #64748b;
    user-select: none;
}

.marcador-label.con-color {
    color: var(--marcador-color, #64748b);
}

.btn-xs {
    padding: 4px 10px !important;
    font-size: 11px !important;
}

/* Columna de categoría en la tabla */
.categoria-col {
    width: 140px;
    min-width: 140px;
}

.categoria-cell {
    padding: 4px 8px !important;
}

.categoria-select {
    width: 100%;
    padding: 4px 6px;
    font-size: 12px;
    border: 1px solid #e2e8f0;
    border-radius: 4px;
    background: white;
    cursor: pointer;
    transition: all 0.2s;
}

.categoria-select:hover {
    border-color: #94a3b8;
}

.categoria-select:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
}

/* Estadística de categorías */
.stat-categorias {
    color: #6366f1;
}

/* Estadísticas */
.stats-bar {
    background: #f8fafc;
    padding: 12px 16px;
    border-radius: 8px;
    margin-bottom: 16px;
    font-size: 13px;
    color: #475569;
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

.stat-credito {
    color: #38a169;
}

.stat-debito {
    color: #e53e3e;
}

.stat-eliminados {
    color: #f59e0b;
}

/* Filas de estadísticas */
.stats-row {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    width: 100%;
}

.stats-saldos {
    padding-bottom: 10px;
    margin-bottom: 10px;
    border-bottom: 1px solid #e2e8f0;
}

.stat-saldo-inicio,
.stat-saldo-cierre {
    font-weight: 500;
}

.stat-saldo-inicio strong,
.stat-saldo-cierre strong {
    font-size: 15px;
}

.stat-saldo-inicio {
    color: #6366f1;
}

.stat-saldo-cierre {
    color: #0891b2;
}

/* Tabla */
.preview-container {
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    overflow: hidden;
}

.preview-table-container {
    max-height: 400px;
    overflow: auto;
}

.preview-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 800px;
}

.preview-table th {
    background: #f8fafc;
    padding: 12px;
    text-align: left;
    font-weight: 600;
    color: #475569;
    border-bottom: 2px solid #e2e8f0;
    position: sticky;
    top: 0;
    z-index: 1;
}

.preview-table th.sortable {
    cursor: pointer;
    user-select: none;
}

.preview-table th.sortable:hover {
    background: #f1f5f9;
}

.preview-table td {
    padding: 10px 12px;
    border-bottom: 1px solid #e2e8f0;
    color: #1e293b;
}

.preview-table tr:hover {
    background: #f8fafc;
}

.text-right {
    text-align: right;
}

.actions-col {
    width: 100px;
    text-align: center;
}

.credito {
    color: #38a169;
}

.debito {
    color: #e53e3e;
}

.editable {
    cursor: pointer;
}

.editable:hover {
    background: #eff6ff;
}

.edit-input {
    width: 100%;
    padding: 4px 8px;
    border: 1px solid #3b82f6;
    border-radius: 4px;
    font-size: 14px;
}

.sort-indicator {
    opacity: 0.5;
    margin-left: 4px;
}

.sort-asc .sort-indicator::after {
    content: '▲';
}

.sort-desc .sort-indicator::after {
    content: '▼';
}

/* Lista de extractos */
.extractos-list {
    max-height: 400px;
    overflow-y: auto;
}

/* File info */
.file-info {
    margin-bottom: 8px;
    font-size: 12px;
}

/* Preview info para detección automática de mes/año */
.preview-info {
    background: #f0f9ff;
    border: 1px solid #bae6fd;
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 16px;
    font-size: 13px;
}

/* ============================================
   SELECCIÓN MÚLTIPLE DE MOVIMIENTOS
   ============================================ */

/* Columna de checkbox */
.checkbox-col {
    width: 40px;
    min-width: 40px;
    text-align: center;
}

.checkbox-cell {
    text-align: center;
    padding: 4px 8px !important;
}

.checkbox-cell input[type="checkbox"],
.checkbox-col input[type="checkbox"] {
    width: 16px;
    height: 16px;
    cursor: pointer;
}

/* Fila seleccionada */
.fila-seleccionada {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%) !important;
}

.fila-seleccionada:hover {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%) !important;
}

/* Barra de acciones para seleccionados */
.barra-seleccionados {
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    border-radius: 8px;
    padding: 12px 16px;
    margin-bottom: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 12px;
    animation: slideDown 0.2s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.barra-seleccionados.hidden {
    display: none;
}

.seleccion-info {
    display: flex;
    align-items: center;
    gap: 12px;
    color: white;
    font-weight: 500;
}

.seleccion-info span {
    font-size: 14px;
}

.btn-link {
    background: none;
    border: none;
    color: rgba(255, 255, 255, 0.9);
    cursor: pointer;
    font-size: 13px;
    text-decoration: underline;
    padding: 0;
}

.btn-link:hover {
    color: white;
}

.seleccion-acciones {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
}

.categoria-select-accion {
    min-width: 160px;
    max-width: 180px;
    padding: 6px 10px;
    font-size: 13px;
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    background: rgba(255, 255, 255, 0.95);
}

/* Ajustes responsive para barra de seleccionados */
@media (max-width: 768px) {
    .barra-seleccionados {
        flex-direction: column;
        align-items: stretch;
    }

    .seleccion-info {
        justify-content: center;
    }

    .seleccion-acciones {
        justify-content: center;
    }

    .categoria-select-accion {
        width: 100%;
        max-width: none;
    }
}

/* ============================================
   MODO RANGO DE FECHAS
   ============================================ */

/* Modal de rango de fechas */
.rango-fechas-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin: 20px 0;
}

.rango-field label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #475569;
    font-size: 14px;
}

.rango-selects {
    display: flex;
    gap: 8px;
}

.rango-selects select,
.rango-selects input {
    flex: 1;
}

.info-text {
    color: #64748b;
    font-size: 13px;
    margin-bottom: 8px;
}

/* Badge de período rango */
.periodo-rango {
    color: #0369a1;
}

/* Columna de período en modo rango */
.periodo-col {
    width: 90px;
    min-width: 90px;
}

.periodo-cell {
    font-size: 12px;
    color: #6366f1;
    font-weight: 500;
    white-space: nowrap;
}

/* Indicador de extractos combinados en stats */
.stat-rango {
    color: #3b82f6;
    font-weight: 500;
}

.badge-rango {
    display: inline-block;
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    color: white;
    font-size: 11px;
    padding: 3px 10px;
    border-radius: 12px;
    margin-left: 8px;
    font-weight: 600;
    vertical-align: middle;
}

/* Indicador de modo rango en la barra de stats */
.stats-bar.modo-rango {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border: 1px solid #93c5fd;
}

/* Responsive para rango de fechas */
@media (max-width: 480px) {
    .rango-fechas-grid {
        grid-template-columns: 1fr;
    }

    .rango-selects {
        flex-direction: column;
    }
}

/* Responsive */
@media (max-width: 768px) {
    .container {
        padding: 16px;
    }

    .header h1 {
        font-size: 1.5rem;
    }

    .search-box {
        flex-direction: column;
    }

    .selector-group,
    .filter-group {
        min-width: 100%;
    }

    .cliente-info {
        flex-direction: column;
        text-align: center;
    }

    .cuenta-header {
        flex-direction: column;
        text-align: center;
    }

    .cuenta-actions {
        justify-content: center;
    }

    .extractos-grid {
        grid-template-columns: repeat(6, 1fr);
    }

    .filtros-extracto {
        flex-direction: column;
    }

    .filtro-item {
        min-width: 100%;
    }

    .modal-content {
        padding: 16px;
    }

    .btn-group {
        flex-direction: column;
    }

    .stats-bar {
        flex-direction: column;
        gap: 8px;
    }

    .stats-row {
        gap: 12px;
    }

    .stats-saldos {
        padding-bottom: 8px;
        margin-bottom: 8px;
    }

    /* Responsive para marcadores */
    .asignar-marcador-row {
        flex-direction: column;
        align-items: flex-start;
    }

    .marcador-select {
        width: 100%;
        max-width: none;
    }

    .filtro-marcadores-section {
        flex-direction: column;
        align-items: flex-start;
    }

    .filtro-marcadores-container {
        width: 100%;
    }

    .categoria-col {
        width: 120px;
        min-width: 120px;
    }
}

@media (max-width: 480px) {
    .extractos-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* ============================================
   MODAL GESTIÓN DE CATEGORÍAS
   ============================================ */

.modal-categorias {
    max-width: 700px;
}

.nueva-categoria-form {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
}

.nueva-categoria-form h4 {
    margin: 0 0 12px 0;
    color: #475569;
    font-size: 14px;
}

.categoria-form-row {
    display: flex;
    gap: 12px;
    align-items: flex-end;
    flex-wrap: wrap;
}

.categoria-form-field {
    flex: 1;
    min-width: 120px;
}

.categoria-form-field label {
    display: block;
    font-size: 12px;
    color: #64748b;
    margin-bottom: 4px;
}

.categoria-color-field {
    flex: 0;
    min-width: 80px;
}

.categoria-btn-field {
    flex: 0;
    min-width: auto;
}

.input-color {
    width: 100%;
    height: 38px;
    padding: 4px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    cursor: pointer;
    background: white;
}

.input-color::-webkit-color-swatch-wrapper {
    padding: 2px;
}

.input-color::-webkit-color-swatch {
    border: none;
    border-radius: 4px;
}

.categorias-lista-container h4 {
    margin: 0 0 12px 0;
    color: #475569;
    font-size: 14px;
}

.categorias-lista {
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-height: 300px;
    overflow-y: auto;
}

.categoria-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    transition: all 0.2s;
}

.categoria-item:hover {
    border-color: #94a3b8;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.categoria-color-preview {
    width: 24px;
    height: 24px;
    border-radius: 6px;
    flex-shrink: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
}

.categoria-info {
    flex: 1;
    min-width: 0;
}

.categoria-nombre {
    font-weight: 600;
    color: #1e293b;
    font-size: 14px;
}

.categoria-id {
    font-size: 12px;
    color: #64748b;
    font-family: monospace;
}

.categoria-actions {
    display: flex;
    gap: 8px;
    flex-shrink: 0;
}

.categoria-actions button {
    padding: 6px 10px;
    font-size: 12px;
}

.categoria-item-empty {
    text-align: center;
    padding: 40px;
    color: #94a3b8;
    font-size: 14px;
}

/* Responsive para modal de categorías */
@media (max-width: 600px) {
    .categoria-form-row {
        flex-direction: column;
    }

    .categoria-form-field {
        width: 100%;
    }

    .categoria-color-field,
    .categoria-btn-field {
        width: 100%;
    }

    .categoria-item {
        flex-wrap: wrap;
    }

    .categoria-actions {
        width: 100%;
        justify-content: flex-end;
        margin-top: 8px;
    }
}

/* ============================================
   PANEL DE HERRAMIENTAS DE AUDITORÍA
   ============================================ */

.herramientas-auditoria-panel {
    background: white;
    padding: 32px;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.herramientas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 24px;
}

.herramienta-card {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 24px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.herramienta-card:hover {
    border-color: #3b82f6;
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.15);
}

.herramienta-card .herramienta-icon {
    font-size: 48px;
    margin-bottom: 16px;
}

.herramienta-card h3 {
    font-size: 1.25rem;
    color: #1e293b;
    margin-bottom: 8px;
}

.herramienta-card p {
    color: #64748b;
    font-size: 14px;
    margin-bottom: 16px;
    line-height: 1.5;
}

.herramienta-features {
    list-style: none;
    padding: 0;
    margin: 0;
}

.herramienta-features li {
    font-size: 13px;
    color: #475569;
    padding: 4px 0;
    padding-left: 20px;
    position: relative;
}

.herramienta-features li::before {
    content: "✓";
    position: absolute;
    left: 0;
    color: #22c55e;
    font-weight: bold;
}

/* Módulos de auditoría */
.modulo-auditoria {
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.modulo-header {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 24px;
    background: white;
    padding: 16px 20px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.modulo-header h2 {
    font-size: 1.5rem;
    color: #1e293b;
    margin: 0;
}

.btn-back {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: #f1f5f9;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    color: #475569;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-back:hover {
    background: #e2e8f0;
    color: #1e293b;
}

/* ============================================
   MÓDULO DE MAYORES CONTABLES
   ============================================ */

.tipo-mayor-selector {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    margin-bottom: 24px;
}

.tipos-mayor-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 16px;
    margin-top: 16px;
}

.tipo-mayor-card {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border: 2px solid #e2e8f0;
    border-radius: 10px;
    padding: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.tipo-mayor-card:hover {
    border-color: #8b5cf6;
    background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
}

.tipo-mayor-card.active {
    border-color: #8b5cf6;
    background: linear-gradient(135deg, #f3e8ff 0%, #ede9fe 100%);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
}

.tipo-mayor-card h4 {
    font-size: 1rem;
    color: #1e293b;
    margin-bottom: 6px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.tipo-mayor-card p {
    font-size: 12px;
    color: #64748b;
    margin: 0;
}

.tipo-mayor-card .tipo-badge {
    font-size: 10px;
    padding: 2px 6px;
    background: #8b5cf6;
    color: white;
    border-radius: 4px;
    margin-left: auto;
}

/* Panel de análisis de mayor */
.panel-mayor-header {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 20px;
}

.panel-mayor-header h3 {
    font-size: 1.25rem;
    margin-bottom: 6px;
}

.panel-mayor-header p {
    font-size: 14px;
    opacity: 0.9;
    margin: 0;
}

/* Info del mayor cargado */
.info-mayor-cargado {
    background: white;
    padding: 16px;
    border-radius: 10px;
    margin-bottom: 20px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.mayor-stats {
    display: flex;
    gap: 24px;
    flex-wrap: wrap;
}

.mayor-stats .stat-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.mayor-stats .stat-label {
    font-size: 12px;
    color: #64748b;
    font-weight: 500;
}

.mayor-stats .stat-value {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1e293b;
}

.mayor-stats .stat-value.debe {
    color: #dc2626;
}

.mayor-stats .stat-value.haber {
    color: #16a34a;
}

/* ============================================
   PANEL DE VINCULACIÓN DE CUPONES
   ============================================ */

.panel-vinculacion {
    background: white;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.vinculacion-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
    flex-wrap: wrap;
    gap: 12px;
}

.vinculacion-header h4 {
    font-size: 1.1rem;
    color: #1e293b;
    margin: 0;
}

.vinculacion-stats {
    display: flex;
    gap: 16px;
}

.vinculacion-stats .stat {
    font-size: 13px;
    padding: 4px 10px;
    border-radius: 20px;
    font-weight: 500;
}

.vinculacion-stats .stat.vinculados {
    background: #dcfce7;
    color: #166534;
}

.vinculacion-stats .stat.pendientes {
    background: #fef3c7;
    color: #92400e;
}

.vinculacion-stats .stat.vencidos {
    background: #fee2e2;
    color: #991b1b;
}

.vinculacion-info {
    background: #f8fafc;
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 16px;
    font-size: 13px;
    color: #475569;
}

.vinculacion-filtros {
    display: flex;
    gap: 16px;
    margin-bottom: 16px;
    flex-wrap: wrap;
}

.vinculacion-filtros .filtro-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 150px;
}

.vinculacion-filtros .filtro-item label {
    font-size: 12px;
    color: #64748b;
    font-weight: 500;
}

/* Área de trabajo dividida */
.vinculacion-workspace {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 16px;
}

.vinculacion-columna {
    background: #f8fafc;
    border-radius: 10px;
    overflow: hidden;
}

.columna-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    background: #e2e8f0;
}

.columna-header h5 {
    font-size: 14px;
    color: #1e293b;
    margin: 0;
}

.columna-total {
    font-size: 14px;
    font-weight: 600;
}

.cupones-columna .columna-header {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
}

.cupones-columna .columna-total {
    color: #dc2626;
}

.liquidaciones-columna .columna-header {
    background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
}

.liquidaciones-columna .columna-total {
    color: #16a34a;
}

.columna-acciones {
    padding: 8px 16px;
    border-bottom: 1px solid #e2e8f0;
}

.registros-lista {
    max-height: 350px;
    overflow-y: auto;
    padding: 8px;
}

/* Items de registro */
.registro-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    background: white;
    border-radius: 8px;
    margin-bottom: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 2px solid transparent;
}

.registro-item:hover {
    border-color: #94a3b8;
}

.registro-item.selected {
    border-color: #3b82f6;
    background: #eff6ff;
}

.registro-item.vinculado {
    background: #f0fdf4;
    border-color: #86efac;
}

.registro-item.vencido {
    background: #fef2f2;
    border-color: #fca5a5;
}

.registro-item.devolucion {
    background: #faf5ff;
    border-color: #c4b5fd;
}

.registro-item .registro-checkbox {
    flex-shrink: 0;
}

.registro-item .registro-info {
    flex: 1;
    min-width: 0;
}

.registro-item .registro-fecha {
    font-size: 11px;
    color: #64748b;
}

.registro-item .registro-desc {
    font-size: 13px;
    color: #1e293b;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.registro-item .registro-monto {
    font-size: 14px;
    font-weight: 600;
    flex-shrink: 0;
}

.registro-item .registro-monto.debe {
    color: #dc2626;
}

.registro-item .registro-monto.haber {
    color: #16a34a;
}

.registro-item .registro-estado {
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 4px;
    flex-shrink: 0;
}

.registro-item .registro-estado.pendiente {
    background: #fef3c7;
    color: #92400e;
}

.registro-item .registro-estado.vinculado {
    background: #dcfce7;
    color: #166534;
}

.registro-item .registro-estado.vencido {
    background: #fee2e2;
    color: #991b1b;
}

.registro-item .registro-estado.devolucion {
    background: #f3e8ff;
    color: #6b21a8;
}

/* Acciones de vinculación */
.vinculacion-acciones {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    padding-top: 16px;
    border-top: 1px solid #e2e8f0;
}

/* Botones pequeños */
.btn-xs {
    padding: 4px 8px !important;
    font-size: 11px !important;
}

/* Responsive para vinculación */
@media (max-width: 768px) {
    .vinculacion-workspace {
        grid-template-columns: 1fr;
    }

    .vinculacion-stats {
        flex-wrap: wrap;
    }

    .vinculacion-acciones {
        flex-direction: column;
    }

    .vinculacion-acciones button {
        width: 100%;
    }
}

/* Preview header */
.preview-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    background: #f8fafc;
    border-radius: 8px 8px 0 0;
    border-bottom: 1px solid #e2e8f0;
}

.preview-header h4 {
    margin: 0;
    font-size: 14px;
    color: #1e293b;
}

.preview-actions {
    display: flex;
    align-items: center;
    gap: 8px;
}

.preview-actions label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: #64748b;
    cursor: pointer;
}

/* ============================================
   CONCILIACIÓN AUTOMÁTICA
   ============================================ */

.btn-conciliar {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-conciliar:hover {
    background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.config-conciliacion {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 20px;
    margin-top: 16px;
}

.config-conciliacion h5 {
    margin: 0 0 16px 0;
    color: #1e293b;
    font-size: 1rem;
}

.config-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 16px;
}

.config-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.config-item label {
    font-size: 13px;
    color: #475569;
    font-weight: 500;
}

.config-item .input-text {
    padding: 8px 12px;
}

.config-hint {
    font-size: 11px;
    color: #94a3b8;
}

.config-actions {
    display: flex;
    gap: 12px;
    padding-top: 12px;
    border-top: 1px solid #e2e8f0;
}

/* Panel de progreso de conciliación */
.progreso-conciliacion {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border: 2px solid #93c5fd;
    border-radius: 12px;
    padding: 20px;
    margin-top: 16px;
}

.progreso-conciliacion h5 {
    margin: 0 0 16px 0;
    color: #1e40af;
    font-size: 1rem;
}

.progreso-contenedor {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 12px;
}

.progreso-barra-contenedor {
    flex: 1;
    height: 24px;
    background: #e2e8f0;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.progreso-barra {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%);
    border-radius: 12px;
    transition: width 0.3s ease;
    position: relative;
}

.progreso-barra::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.progreso-texto {
    min-width: 50px;
    font-weight: 600;
    color: #1e40af;
    text-align: right;
}

.progreso-detalle {
    color: #475569;
    font-size: 0.9rem;
    text-align: center;
}

/* Panel de progreso de incorporación de cheques */
.progreso-cheques {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    border: 2px solid #fcd34d;
}

.progreso-cheques h5 {
    color: #92400e;
}

.progreso-cheques .progreso-barra {
    background: linear-gradient(90deg, #f59e0b 0%, #d97706 50%, #b45309 100%);
}

.progreso-cheques .progreso-texto {
    color: #92400e;
}

/* Resultados de conciliación */
.resultados-conciliacion {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border: 2px solid #86efac;
    border-radius: 12px;
    padding: 20px;
    margin-top: 16px;
}

.resultados-conciliacion h5 {
    margin: 0 0 16px 0;
    color: #166534;
    font-size: 1rem;
}

.resultados-stats {
    display: flex;
    gap: 24px;
    flex-wrap: wrap;
    margin-bottom: 16px;
}

.resultado-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 12px 20px;
    border-radius: 8px;
    min-width: 120px;
}

.resultado-item.exito {
    background: #dcfce7;
}

.resultado-item.pendiente {
    background: #fef3c7;
}

.resultado-item.info {
    background: #dbeafe;
}

.resultado-numero {
    font-size: 2rem;
    font-weight: 700;
}

.resultado-item.exito .resultado-numero {
    color: #166534;
}

.resultado-item.pendiente .resultado-numero {
    color: #92400e;
}

.resultado-item.info .resultado-numero {
    color: #1e40af;
}

.resultado-label {
    font-size: 12px;
    color: #64748b;
    text-align: center;
}

/* ============================================
   BARRA DE SELECCIÓN FLOTANTE PARA MAYORES
   ============================================ */

.selection-bar-mayores {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, #1f2937, #374151);
    color: white;
    padding: 16px 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 24px;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    animation: slideUp 0.3s ease;
}

@keyframes slideUp {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.selection-bar-mayores.hidden {
    display: none;
}

.selection-summary {
    display: flex;
    align-items: center;
    gap: 16px;
    flex-wrap: wrap;
}

.selection-group {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.1);
}

.selection-group.cupones-group {
    border-left: 3px solid #ef4444;
}

.selection-group.liquidaciones-group {
    border-left: 3px solid #22c55e;
}

.selection-group.selection-diff {
    background: #374151;
    border: 1px solid #4b5563;
}

.selection-icon {
    font-size: 18px;
}

.selection-label {
    color: #9ca3af;
    font-size: 13px;
    font-weight: 500;
}

.selection-count {
    background: #4b5563;
    padding: 4px 12px;
    border-radius: 16px;
    font-weight: 700;
    font-size: 15px;
    min-width: 32px;
    text-align: center;
}

.cupones-group .selection-count {
    background: #dc2626;
}

.liquidaciones-group .selection-count {
    background: #16a34a;
}

.selection-amount {
    color: #d1d5db;
    font-size: 14px;
    font-family: 'Courier New', monospace;
    font-weight: 600;
}

.selection-separator {
    color: #6b7280;
    font-size: 20px;
    font-weight: bold;
}

.selection-diff-value {
    font-weight: 700;
    font-size: 16px;
    font-family: 'Courier New', monospace;
    color: #10b981;
    padding: 4px 8px;
    border-radius: 4px;
}

.selection-diff-value.diff-warning {
    color: #fbbf24;
    background: rgba(251, 191, 36, 0.2);
}

.selection-diff-value.diff-error {
    color: #f87171;
    background: rgba(248, 113, 113, 0.2);
}

.selection-diff-value.diff-ok {
    color: #4ade80;
    background: rgba(74, 222, 128, 0.2);
}

.selection-actions {
    display: flex;
    gap: 12px;
    align-items: center;
}

.btn-selection-clear {
    background: transparent;
    border: 1px solid #6b7280;
    color: #9ca3af;
    padding: 10px 18px;
    border-radius: 8px;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-selection-clear:hover {
    background: #4b5563;
    color: white;
    border-color: #9ca3af;
}

.btn-vincular-mayores {
    background: linear-gradient(135deg, #059669 0%, #047857 100%);
    border: none;
    color: white;
    padding: 12px 24px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(5, 150, 105, 0.3);
}

.btn-vincular-mayores:hover:not(:disabled) {
    background: linear-gradient(135deg, #047857 0%, #065f46 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(5, 150, 105, 0.4);
}

.btn-vincular-mayores:disabled {
    background: #4b5563;
    cursor: not-allowed;
    opacity: 0.6;
    box-shadow: none;
}

/* Resaltar filas seleccionadas en las listas */
.registro-item.selected {
    border-color: #3b82f6 !important;
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%) !important;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);
}

.registro-item.selected .registro-checkbox {
    accent-color: #3b82f6;
}

/* Filas seleccionadas en la tabla del mayor */
#tablaMayorBody tr.row-selected {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%) !important;
}

#tablaMayorBody tr.row-selected td {
    border-color: #3b82f6;
}

/* Responsive */
@media (max-width: 768px) {
    .selection-bar-mayores {
        flex-direction: column;
        padding: 12px 16px;
        gap: 12px;
    }

    .selection-summary {
        width: 100%;
        justify-content: center;
    }

    .selection-actions {
        width: 100%;
        justify-content: center;
    }

    .btn-vincular-mayores {
        flex: 1;
    }
}

/* ============================================
   MODALES DE GESTIÓN DE CONCILIACIONES
   ============================================ */

.overlay-eliminar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999;
    display: none;
}

.overlay-eliminar.active {
    display: block;
}

.modal-eliminar {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    border-radius: 16px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    width: 500px;
    max-width: 90vw;
    display: none;
}

.modal-eliminar.active {
    display: block;
    animation: modalEntrada 0.3s ease-out;
}

@keyframes modalEntrada {
    from {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

.modal-eliminar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    border-bottom: 1px solid #e5e7eb;
}

.modal-eliminar-header h3 {
    font-size: 18px;
    font-weight: 600;
    color: #1f2937;
    margin: 0;
}

.modal-close-btn {
    background: none;
    border: none;
    color: #9ca3af;
    font-size: 20px;
    cursor: pointer;
    padding: 4px;
    line-height: 1;
    transition: color 0.2s;
}

.modal-close-btn:hover {
    color: #374151;
}

.modal-eliminar-body {
    padding: 24px;
}

.modal-eliminar-pregunta {
    font-size: 15px;
    color: #374151;
    margin: 0 0 20px 0;
}

.eliminar-detalles {
    background: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
}

.eliminar-detalles p {
    margin: 8px 0;
    font-size: 14px;
    color: #374151;
}

.eliminar-detalles p strong {
    color: #1f2937;
}

.eliminar-aviso {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 14px;
    background: #fffbeb;
    border: 1px solid #fcd34d;
    border-radius: 8px;
}

.aviso-icono {
    font-size: 20px;
    flex-shrink: 0;
}

.eliminar-aviso span:last-child {
    font-size: 13px;
    color: #92400e;
    line-height: 1.5;
}

.modal-eliminar-footer {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    padding: 16px 24px;
    border-top: 1px solid #e5e7eb;
    background: #f9fafb;
    border-radius: 0 0 16px 16px;
}

.btn-cancelar {
    background: white;
    border: 1px solid #d1d5db;
    color: #374151;
    padding: 10px 20px;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-cancelar:hover {
    background: #f3f4f6;
    border-color: #9ca3af;
}

.btn-confirmar-eliminar {
    background: #dc2626;
    border: none;
    color: white;
    padding: 10px 20px;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-confirmar-eliminar:hover {
    background: #b91c1c;
}

.btn-confirmar-eliminar:disabled {
    background: #9ca3af;
    cursor: not-allowed;
}

/* Modal de gestión de conciliaciones */
.modal-gestion-conciliaciones {
    max-width: 700px;
    max-height: 80vh;
}

.modal-gestion-conciliaciones .modal-eliminar-body {
    max-height: 60vh;
    overflow-y: auto;
}

/* Lista de conciliaciones para selección */
.conciliaciones-seleccion-lista {
    max-height: 400px;
    overflow-y: auto;
    margin-bottom: 16px;
}

.conciliacion-seleccion-item {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    margin-bottom: 8px;
    cursor: pointer;
    transition: all 0.2s;
}

.conciliacion-seleccion-item:hover {
    border-color: #8b5cf6;
    background: #faf5ff;
}

.conciliacion-seleccion-item.selected {
    border-color: #8b5cf6;
    background: #f3e8ff;
}

.conciliacion-radio {
    margin-right: 12px;
}

.conciliacion-radio input[type="radio"] {
    width: 18px;
    height: 18px;
    accent-color: #8b5cf6;
}

.conciliacion-info {
    flex: 1;
}

.conciliacion-nombre {
    font-weight: 600;
    font-size: 14px;
    color: #1f2937;
    margin-bottom: 4px;
}

.conciliacion-detalles {
    font-size: 12px;
    color: #6b7280;
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 4px;
}

.conciliacion-stats {
    font-size: 11px;
    color: #6b7280;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.conciliacion-stats .stat-vinculados {
    color: #059669;
}

.conciliacion-stats .stat-pendientes {
    color: #d97706;
}

.conciliacion-stats .stat-vencidos {
    color: #dc2626;
}

.conciliacion-stats .stat-total {
    color: #6366f1;
}

/* Lista de gestión de conciliaciones */
.conciliaciones-lista {
    max-height: 400px;
    overflow-y: auto;
}

.conciliacion-gestion-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    margin-bottom: 10px;
    background: #fff;
    transition: all 0.2s;
}

.conciliacion-gestion-item:hover {
    background: #f9fafb;
    border-color: #8b5cf6;
}

.conciliacion-gestion-item.activa {
    background: #f3e8ff;
    border-color: #8b5cf6;
}

.conciliacion-gestion-info {
    flex: 1;
}

.conciliacion-gestion-info .conciliacion-nombre {
    display: flex;
    align-items: center;
    gap: 8px;
}

.badge-activa {
    display: inline-block;
    background: #8b5cf6;
    color: white;
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 10px;
    font-weight: 600;
}

.conciliacion-gestion-info .conciliacion-detalles {
    margin-top: 6px;
}

.conciliacion-gestion-acciones {
    display: flex;
    gap: 8px;
}

.btn-cargar-conciliacion {
    background: #059669;
    border: none;
    color: white;
    padding: 8px 14px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-cargar-conciliacion:hover {
    background: #047857;
}

.btn-eliminar-conciliacion {
    background: #fee2e2;
    border: 1px solid #fca5a5;
    color: #dc2626;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-eliminar-conciliacion:hover {
    background: #fecaca;
}

/* Estado vacío de conciliaciones */
.conciliaciones-vacio {
    text-align: center;
    padding: 40px;
    color: #9ca3af;
}

.conciliaciones-vacio-icon {
    font-size: 48px;
    margin-bottom: 12px;
}

.conciliaciones-vacio p {
    font-size: 14px;
    margin: 0;
}

/* Responsive para modales */
@media (max-width: 768px) {
    .modal-eliminar {
        width: 95%;
    }

    .modal-eliminar-header {
        padding: 16px;
    }

    .modal-eliminar-body {
        padding: 16px;
    }

    .modal-eliminar-footer {
        padding: 12px 16px;
        flex-direction: column-reverse;
    }

    .btn-cancelar,
    .btn-confirmar-eliminar {
        width: 100%;
    }

    .conciliacion-gestion-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    .conciliacion-gestion-acciones {
        width: 100%;
        justify-content: flex-end;
    }
}

/* ============================================
   ESTILOS PARA LISTADO DE CHEQUES RECIBIDOS
   ============================================ */

/* Panel de comparación de sumas */
.comparacion-sumas-panel {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 16px;
    margin-top: 16px;
}

.comparacion-sumas-panel h4 {
    font-size: 14px;
    color: #475569;
    margin-bottom: 12px;
    font-weight: 600;
}

.comparacion-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
}

.comparacion-item {
    background: white;
    padding: 12px;
    border-radius: 6px;
    border: 1px solid #e2e8f0;
    text-align: center;
}

.comparacion-item.diferencia {
    border-color: #94a3b8;
    background: #f1f5f9;
}

.comparacion-label {
    display: block;
    font-size: 12px;
    color: #64748b;
    margin-bottom: 4px;
}

.comparacion-valor {
    display: block;
    font-size: 16px;
    font-weight: 700;
    color: #1e293b;
}

.comparacion-valor.debe {
    color: #16a34a;
}

.comparacion-valor.coincide {
    color: #16a34a;
}

.comparacion-valor.no-coincide {
    color: #dc2626;
}

.mensaje-comparacion {
    margin-top: 12px;
    padding: 10px 12px;
    border-radius: 6px;
    font-size: 13px;
}

.mensaje-comparacion.success {
    background: #dcfce7;
    color: #166534;
    border: 1px solid #86efac;
}

.mensaje-comparacion.warning {
    background: #fef3c7;
    color: #92400e;
    border: 1px solid #fcd34d;
}

.mensaje-comparacion.error {
    background: #fef2f2;
    color: #991b1b;
    border: 1px solid #fecaca;
}

/* Botón de advertencia */
.btn-warning {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-warning:hover {
    background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
    transform: translateY(-1px);
}

/* Comparación resumida en modal de confirmación */
.comparacion-resumida {
    margin-top: 12px;
    padding: 12px;
    background: white;
    border-radius: 6px;
    border: 1px solid #e2e8f0;
}

.comparacion-resumida p {
    margin: 4px 0;
    font-size: 14px;
}

/* Indicador de listado de cheques incorporado */
.listado-cheques-incorporado {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    border: 1px solid #93c5fd;
    border-radius: 6px;
    padding: 10px 14px;
    margin-top: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.listado-cheques-incorporado .icono {
    font-size: 16px;
}

.listado-cheques-incorporado .texto {
    font-size: 13px;
    color: #1e40af;
}

.listado-cheques-incorporado .cantidad {
    font-weight: 600;
}

.listado-cheques-incorporado .estado-resumen {
    display: inline-flex;
    gap: 8px;
    margin-left: 12px;
    padding-left: 12px;
    border-left: 1px solid #93c5fd;
}

.listado-cheques-incorporado .estado-resumen span {
    font-size: 12px;
    padding: 2px 6px;
    border-radius: 4px;
    cursor: help;
}

.listado-cheques-incorporado .estado-completo {
    background: #dcfce7;
    color: #166534;
}

.listado-cheques-incorporado .estado-parcial {
    background: #fef3c7;
    color: #92400e;
}

.listado-cheques-incorporado .estado-sin {
    background: #fee2e2;
    color: #991b1b;
}

.listado-cheques-incorporado .estado-sin-asiento {
    background: #f1f5f9;
    color: #475569;
}

/* Responsive para comparación */
@media (max-width: 600px) {
    .comparacion-grid {
        grid-template-columns: 1fr;
    }
}

/* ============================================
   ESTILOS PARA ASIENTOS CON CHEQUES ASOCIADOS
   ============================================ */

/* Filas de asiento según estado de cheques */
.asiento-row.cheques-completo {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border-left: 4px solid #22c55e;
}

.asiento-row.cheques-completo:hover {
    background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
}

.asiento-row.cheques-parcial {
    background: linear-gradient(135deg, #fefce8 0%, #fef3c7 100%);
    border-left: 4px solid #f59e0b;
}

.asiento-row.cheques-parcial:hover {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
}

.asiento-row.cheques-sin {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-left: 4px solid #ef4444;
}

.asiento-row.cheques-sin:hover {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
}

/* Botón expandir/colapsar */
.btn-expandir {
    background: transparent;
    border: 1px solid #d1d5db;
    border-radius: 4px;
    width: 28px;
    height: 28px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    color: #6b7280;
    transition: all 0.2s;
}

.btn-expandir:hover {
    background: #f3f4f6;
    border-color: #9ca3af;
    color: #374151;
}

.cheques-completo .btn-expandir {
    border-color: #86efac;
    color: #16a34a;
}

.cheques-completo .btn-expandir:hover {
    background: #dcfce7;
}

.cheques-parcial .btn-expandir {
    border-color: #fcd34d;
    color: #d97706;
}

.cheques-parcial .btn-expandir:hover {
    background: #fef3c7;
}

.cheques-sin .btn-expandir {
    border-color: #fca5a5;
    color: #dc2626;
}

.cheques-sin .btn-expandir:hover {
    background: #fee2e2;
}

/* Estado de cheques badge */
.estado-cheques {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 500;
}

.estado-cheques.cheques-completo {
    background: #dcfce7;
    color: #166534;
}

.estado-cheques.cheques-parcial {
    background: #fef3c7;
    color: #92400e;
}

.estado-cheques.cheques-sin {
    background: #fee2e2;
    color: #991b1b;
}

/* Info diferencia */
.info-diferencia .diferencia {
    color: #d97706;
    font-size: 11px;
    font-weight: 500;
}

.info-diferencia .coincide {
    color: #16a34a;
    font-size: 11px;
    font-weight: 500;
}

.info-diferencia .sin-cheques {
    color: #dc2626;
    font-size: 11px;
    font-weight: 500;
}

/* Sublistado de cheques */
.cheques-container-row {
    background: #f8fafc;
}

.cheques-sublistado {
    margin: 0;
    padding: 12px 16px 12px 48px;
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    border-top: 1px solid #e2e8f0;
    border-bottom: 1px solid #e2e8f0;
}

.tabla-cheques-asociados {
    width: 100%;
    border-collapse: collapse;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.tabla-cheques-asociados thead {
    background: #f8fafc;
}

.tabla-cheques-asociados th {
    padding: 10px 12px;
    text-align: left;
    font-size: 11px;
    font-weight: 600;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-bottom: 2px solid #e2e8f0;
}

.tabla-cheques-asociados td {
    padding: 10px 12px;
    font-size: 13px;
    border-bottom: 1px solid #f1f5f9;
}

.tabla-cheques-asociados tbody tr:last-child td {
    border-bottom: none;
}

.tabla-cheques-asociados .cheque-row {
    transition: background 0.2s;
}

.tabla-cheques-asociados .cheque-row:hover {
    background: #f8fafc;
}

.tabla-cheques-asociados .cheque-row.vinculado {
    background: #f0fdf4;
}

.tabla-cheques-asociados .cheque-row.vinculado:hover {
    background: #dcfce7;
}

/* Botón para liberar cheque de vinculación */
.btn-liberar-cheque {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 26px;
    height: 26px;
    padding: 0;
    border: 1px solid #e2e8f0;
    border-radius: 4px;
    background: #fff;
    color: #94a3b8;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-liberar-cheque:hover {
    background: #fee2e2;
    border-color: #fca5a5;
    color: #dc2626;
}

.btn-liberar-cheque:active {
    transform: scale(0.95);
}

/* Botón para reprocesar cheques pendientes */
.btn-reprocesar-cheques {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border: 1px solid #d97706;
    border-radius: 6px;
    background: #fff;
    color: #d97706;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-reprocesar-cheques:hover {
    background: #fef3c7;
    border-color: #b45309;
    color: #b45309;
}

.btn-reprocesar-cheques:active {
    transform: scale(0.97);
}

/* Select para vincular manualmente cheque a asiento */
.select-vincular-asiento {
    padding: 4px 8px;
    border: 1px solid #d1d5db;
    border-radius: 4px;
    background: #fff;
    font-size: 11px;
    color: #374151;
    cursor: pointer;
    max-width: 180px;
    transition: all 0.2s ease;
}

.select-vincular-asiento:hover {
    border-color: #9ca3af;
}

.select-vincular-asiento:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

/* Badge de estado del cheque */
.estado-cheque-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
    background: #f1f5f9;
    color: #64748b;
}

/* Cheques sin asiento asociado */
.cheque-sin-asiento {
    background: #fffbeb;
    border-left: 3px solid #f59e0b;
}

.cheque-sin-asiento:hover {
    background: #fef3c7;
}

/* Secciones headers */
.seccion-header td {
    font-size: 13px;
    letter-spacing: 0.5px;
}

.seccion-header.seccion-debe td {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
}

.seccion-header.seccion-haber td {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
}

.seccion-header.seccion-sin-asiento td {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
}

/* Responsive para tabla de cheques */
@media (max-width: 768px) {
    .cheques-sublistado {
        padding: 8px;
    }

    .tabla-cheques-asociados th,
    .tabla-cheques-asociados td {
        padding: 8px 6px;
        font-size: 11px;
    }
}

/* ============================================
   ESTILOS PARA PASOS DE CONCILIACIÓN
   ============================================ */

/* Panel de paso de conciliación */
.panel-paso-conciliacion {
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    margin-bottom: 20px;
    overflow: hidden;
    border: 1px solid #e2e8f0;
}

/* Header del paso */
.paso-header {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px 20px;
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    border-bottom: 1px solid #e2e8f0;
    cursor: pointer;
}

.paso-header:hover {
    background: linear-gradient(135deg, #f1f5f9 0%, #cbd5e1 100%);
}

/* Número del paso */
.paso-numero {
    width: 36px;
    height: 36px;
    background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 16px;
    flex-shrink: 0;
    box-shadow: 0 2px 6px rgba(14, 165, 233, 0.4);
}

/* Título del paso */
.paso-titulo {
    flex: 1;
}

.paso-titulo h4 {
    margin: 0;
    color: #1e293b;
    font-size: 15px;
    font-weight: 600;
}

.paso-descripcion {
    margin: 4px 0 0 0;
    color: #64748b;
    font-size: 13px;
}

/* Botón toggle del paso */
.btn-toggle-paso {
    background: none;
    border: none;
    padding: 8px;
    cursor: pointer;
    color: #64748b;
    font-size: 16px;
    transition: transform 0.3s ease;
}

.btn-toggle-paso:hover {
    color: #0ea5e9;
}

.btn-toggle-paso.collapsed span {
    transform: rotate(-90deg);
    display: inline-block;
}

/* Contenido del paso */
.paso-contenido {
    padding: 20px;
    transition: max-height 0.3s ease, opacity 0.3s ease;
}

.paso-contenido.collapsed {
    display: none;
}

/* Estado del listado de cheques */
.estado-listado-cheques {
    margin-bottom: 20px;
}

.listado-estado {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px 20px;
    border-radius: 8px;
    flex-wrap: wrap;
}

.listado-estado.sin-cargar {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    border: 1px dashed #94a3b8;
}

.listado-estado.cargado {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border: 1px solid #86efac;
}

.estado-icono {
    font-size: 32px;
}

.estado-info {
    flex: 1;
    min-width: 200px;
}

.estado-info h5 {
    margin: 0 0 4px 0;
    color: #1e293b;
    font-size: 14px;
    font-weight: 600;
}

.estado-info p {
    margin: 0;
    color: #64748b;
    font-size: 13px;
}

/* Estadísticas de conciliación por paso */
.stats-conciliacion-paso {
    display: flex;
    gap: 16px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.stat-conciliacion {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 16px 24px;
    border-radius: 8px;
    min-width: 120px;
    flex: 1;
    text-align: center;
}

.stat-conciliacion.completo {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border: 1px solid #86efac;
}

.stat-conciliacion.parcial {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    border: 1px solid #fcd34d;
}

.stat-conciliacion.sin-cheques {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border: 1px solid #fca5a5;
}

.stat-conciliacion.no-asociados {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    border: 1px solid #94a3b8;
}

.stat-numero {
    font-size: 28px;
    font-weight: 700;
    color: #1e293b;
    line-height: 1;
}

.stat-conciliacion.completo .stat-numero {
    color: #16a34a;
}

.stat-conciliacion.parcial .stat-numero {
    color: #d97706;
}

.stat-conciliacion.sin-cheques .stat-numero {
    color: #dc2626;
}

.stat-conciliacion.no-asociados .stat-numero {
    color: #64748b;
}

.stat-conciliacion .stat-label {
    font-size: 12px;
    color: #64748b;
    margin-top: 4px;
}

/* Tabla resumen de asociaciones */
.tabla-resumen-asociaciones {
    background: #f8fafc;
    border-radius: 8px;
    padding: 16px;
    border: 1px solid #e2e8f0;
}

.resumen-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
    flex-wrap: wrap;
    gap: 12px;
}

.resumen-header h5 {
    margin: 0;
    color: #1e293b;
    font-size: 14px;
}

.resumen-filtros {
    display: flex;
    gap: 16px;
}

.filtro-inline {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: #475569;
    cursor: pointer;
}

.filtro-inline input[type="checkbox"] {
    cursor: pointer;
}

.tabla-asociaciones-cheques {
    font-size: 12px;
}

.tabla-asociaciones-cheques td {
    padding: 8px 12px;
}

/* Estados en tabla de asociaciones */
.estado-asociacion {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

.estado-asociacion.completo {
    background: #dcfce7;
    color: #16a34a;
}

.estado-asociacion.parcial {
    background: #fef3c7;
    color: #d97706;
}

.estado-asociacion.sin-cheques {
    background: #fee2e2;
    color: #dc2626;
}

/* Filas de la tabla de asociaciones */
.tabla-asociaciones-cheques .fila-completo {
    background-color: rgba(220, 252, 231, 0.3);
}

.tabla-asociaciones-cheques .fila-parcial {
    background-color: rgba(254, 243, 199, 0.3);
}

.tabla-asociaciones-cheques .fila-sin-cheques {
    background-color: rgba(254, 226, 226, 0.3);
}

.diferencia-warning {
    color: #dc2626 !important;
    font-weight: 600;
}

/* ============================================
   DETALLE DE CHEQUES ASOCIADOS (expandible)
   ============================================ */

/* Celda de expandir */
.celda-expandir {
    width: 30px;
    padding: 4px 8px !important;
    text-align: center;
}

.btn-expandir-fila {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 10px;
    color: #64748b;
    padding: 4px 6px;
    border-radius: 4px;
    transition: all 0.2s;
}

.btn-expandir-fila:hover {
    background: #e2e8f0;
    color: #1e293b;
}

/* Fila expandida */
.fila-asiento-principal.fila-expandida {
    border-bottom: none !important;
}

/* Badge de cantidad de cheques */
.badge-cheques {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    padding: 0 8px;
    background: #3b82f6;
    color: white;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.badge-cheques:hover {
    background: #2563eb;
    transform: scale(1.05);
}

.badge-cheques-vacio {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    padding: 0 8px;
    background: #e2e8f0;
    color: #94a3b8;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
}

/* Fila de detalle de cheques */
.fila-detalle-cheques {
    background-color: #f8fafc !important;
}

.celda-detalle-cheques {
    padding: 0 !important;
    border-top: none !important;
}

.contenedor-cheques-asociados {
    padding: 12px 16px 16px 40px;
    background: linear-gradient(to right, #f1f5f9, #f8fafc);
    border-left: 3px solid #3b82f6;
    margin: 0;
}

.titulo-cheques-asociados {
    font-size: 12px;
    font-weight: 600;
    color: #475569;
    margin-bottom: 10px;
}

/* Tabla de cheques asociados en detalle */
.tabla-cheques-asociados-detalle {
    width: 100%;
    font-size: 11px;
    border-collapse: collapse;
    background: white;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}

.tabla-cheques-asociados-detalle thead {
    background: #f1f5f9;
}

.tabla-cheques-asociados-detalle th {
    padding: 8px 12px;
    text-align: left;
    font-weight: 600;
    color: #475569;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.tabla-cheques-asociados-detalle td {
    padding: 8px 12px;
    border-bottom: 1px solid #f1f5f9;
    color: #334155;
}

.tabla-cheques-asociados-detalle tr:last-child td {
    border-bottom: none;
}

.tabla-cheques-asociados-detalle tr:hover {
    background: #f8fafc;
}

/* Botón de desvincular */
.btn-desvincular {
    background: #fee2e2;
    color: #dc2626;
    border: none;
    padding: 4px 8px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 11px;
    transition: all 0.2s;
}

.btn-desvincular:hover {
    background: #fecaca;
    color: #b91c1c;
}

/* ============================================
   FILTROS Y ORDENAMIENTO - CHEQUES SIN ASOCIAR
   ============================================ */

.cheques-no-asociados-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 12px;
}

.contador-cheques-no-asociados {
    font-size: 12px;
    color: #64748b;
    font-weight: 500;
}

.filtros-cheques-no-asociados {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
    flex-wrap: wrap;
    align-items: center;
}

.filtro-input-small {
    padding: 6px 10px;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    font-size: 12px;
    width: 150px;
    background: white;
    transition: all 0.2s;
}

.filtro-input-small:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.filtro-input-small::placeholder {
    color: #94a3b8;
}

.btn-limpiar-filtros {
    background: #f1f5f9;
    border: 1px solid #e2e8f0;
    color: #64748b;
    padding: 6px 10px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.2s;
}

.btn-limpiar-filtros:hover {
    background: #e2e8f0;
    color: #475569;
}

/* Tabla de cheques no asociados */
.tabla-cheques-no-asociados {
    font-size: 12px;
}

.tabla-cheques-no-asociados th.sortable {
    cursor: pointer;
    user-select: none;
    transition: background 0.2s;
}

.tabla-cheques-no-asociados th.sortable:hover {
    background: #e2e8f0;
}

.tabla-cheques-no-asociados th.sortable.sorted {
    background: #dbeafe;
    color: #1d4ed8;
}

.sort-icon {
    margin-left: 4px;
    font-size: 10px;
    opacity: 0.6;
}

.tabla-cheques-no-asociados th.sortable:hover .sort-icon,
.tabla-cheques-no-asociados th.sortable.sorted .sort-icon {
    opacity: 1;
}

/* ============================================
   PASO 2: CONCILIACIÓN POR MES
   ============================================ */

/* Contenedor del selector de mes */
.selector-mes-container {
    margin-bottom: 24px;
}

.selector-mes-header {
    margin-bottom: 16px;
}

.selector-mes-header h5 {
    color: #1e293b;
    font-size: 14px;
    margin: 0;
}

/* Grid de meses */
.lista-meses-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 12px;
}

.mes-card {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
}

.mes-card:hover {
    border-color: #3b82f6;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
    transform: translateY(-2px);
}

.mes-card.procesado {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border-color: #86efac;
}

.mes-card.procesando {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border-color: #3b82f6;
}

.mes-card.con-pendientes {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    border-color: #fcd34d;
}

.mes-card-nombre {
    font-size: 16px;
    font-weight: 600;
    color: #1e293b;
    margin-bottom: 8px;
}

.mes-card-stats {
    display: flex;
    flex-direction: column;
    gap: 4px;
    font-size: 12px;
    color: #64748b;
}

.mes-card-stats .stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.mes-card-estado {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 500;
    margin-top: 8px;
}

.mes-card-estado.pendiente {
    background: #f1f5f9;
    color: #64748b;
}

.mes-card-estado.procesado {
    background: #dcfce7;
    color: #16a34a;
}

.mes-card-estado.parcial {
    background: #fef3c7;
    color: #d97706;
}

/* Panel del mes seleccionado */
.panel-mes-seleccionado {
    background: #f8fafc;
    border-radius: 12px;
    border: 1px solid #e2e8f0;
    padding: 20px;
    margin-top: 20px;
}

.mes-seleccionado-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 1px solid #e2e8f0;
}

.mes-seleccionado-header h5 {
    margin: 0;
    color: #1e293b;
    font-size: 16px;
}

/* Estadísticas del mes */
.stats-mes {
    background: white;
    padding: 16px;
    border-radius: 8px;
    margin-bottom: 16px;
}

/* Acciones de conciliación del mes */
.acciones-conciliacion-mes {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    margin-bottom: 20px;
    padding: 16px;
    background: white;
    border-radius: 8px;
}

/* Panel de cheques no asociados */
.cheques-no-asociados-panel {
    margin-top: 20px;
    background: #fffbeb;
    border-radius: 8px;
    border: 1px solid #fcd34d;
    padding: 16px;
}

.cheques-no-asociados-header {
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
}

.cheques-no-asociados-header h5 {
    margin: 0;
    color: #d97706;
    font-size: 14px;
}

/* Botón vincular seleccionados */
.btn-vincular-seleccionados {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-left: auto;
}

.btn-vincular-seleccionados:hover {
    background: #2563eb;
    transform: translateY(-1px);
}

.btn-vincular-seleccionados:active {
    transform: translateY(0);
}

/* Columna de checkbox */
.th-checkbox,
.td-checkbox {
    width: 40px;
    text-align: center;
    padding: 8px !important;
}

.th-checkbox input[type="checkbox"],
.td-checkbox input[type="checkbox"] {
    width: 16px;
    height: 16px;
    cursor: pointer;
    accent-color: #3b82f6;
}

/* Fila seleccionada */
.tabla-cheques-no-asociados tr.fila-seleccionada {
    background-color: #dbeafe !important;
}

.tabla-cheques-no-asociados tr.fila-seleccionada:hover {
    background-color: #bfdbfe !important;
}

/* Estilos para el modal de vinculación múltiple */
.info-cheques-seleccionados {
    display: flex;
    gap: 20px;
    padding: 12px 16px;
    background: #f0f9ff;
    border-radius: 8px;
    margin-bottom: 16px;
    border: 1px solid #bae6fd;
}

.resumen-seleccion {
    display: flex;
    align-items: center;
    gap: 8px;
}

.resumen-seleccion .label {
    color: #64748b;
    font-size: 13px;
}

.resumen-seleccion .valor {
    font-weight: 600;
    color: #0369a1;
    font-size: 14px;
}

.cheque-seleccionado-item {
    background: #f8fafc;
    padding: 8px 12px;
    border-radius: 6px;
    margin-bottom: 4px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.cheque-seleccionado-item .opcion-info {
    display: flex;
    gap: 10px;
    align-items: center;
}

.cheque-seleccionado-item .opcion-numero {
    font-weight: 600;
    color: #1e40af;
    font-size: 12px;
}

.cheque-seleccionado-item .opcion-descripcion {
    color: #64748b;
    font-size: 12px;
}

.cheque-seleccionado-item .opcion-monto {
    font-weight: 600;
    color: #059669;
    font-size: 13px;
}

/* Estilos para opciones de asientos en modal múltiple */
.opcion-monto-container {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 2px;
}

.opcion-pendiente {
    font-size: 11px;
    color: #94a3b8;
}

.opcion-estado .badge-estado {
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

.opcion-estado .badge-estado.sin-cheques {
    background: #fef3c7;
    color: #d97706;
}

.opcion-estado .badge-estado.parcial {
    background: #e0e7ff;
    color: #4f46e5;
}

.opcion-estado .badge-estado.completo {
    background: #d1fae5;
    color: #059669;
}

/* Resumen del listado cargado */
.resumen-listado-cheques {
    background: #f8fafc;
    border-radius: 8px;
    padding: 16px;
    margin-top: 16px;
    border: 1px solid #e2e8f0;
}

.resumen-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 16px;
    margin-top: 12px;
}

.resumen-stats-grid .stat-item {
    text-align: center;
    padding: 12px;
    background: white;
    border-radius: 8px;
    border: 1px solid #e2e8f0;
}

.resumen-stats-grid .stat-numero {
    font-size: 24px;
    font-weight: 700;
    color: #3b82f6;
    display: block;
}

.resumen-stats-grid .stat-label {
    font-size: 12px;
    color: #64748b;
    margin-top: 4px;
    display: block;
}

/* Acciones en el estado del listado */
.estado-acciones {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

/* Botones de acción en filas de tabla */
.btn-accion-fila {
    padding: 4px 8px;
    border: none;
    border-radius: 4px;
    font-size: 11px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-accion-fila.btn-vincular {
    background: #eff6ff;
    color: #3b82f6;
}

.btn-accion-fila.btn-vincular:hover {
    background: #dbeafe;
}

.btn-accion-fila.btn-desvincular {
    background: #fef2f2;
    color: #dc2626;
}

.btn-accion-fila.btn-desvincular:hover {
    background: #fee2e2;
}

.btn-accion-fila.btn-ver {
    background: #f0fdf4;
    color: #16a34a;
}

.btn-accion-fila.btn-ver:hover {
    background: #dcfce7;
}

/* Text muted para descripciones secundarias */
.text-muted {
    color: #64748b;
    font-size: 12px;
}

/* Responsive para pasos de conciliación */
@media (max-width: 768px) {
    .paso-header {
        padding: 12px 16px;
        flex-wrap: wrap;
    }

    .paso-numero {
        width: 30px;
        height: 30px;
        font-size: 14px;
    }

    .paso-titulo h4 {
        font-size: 14px;
    }

    .stats-conciliacion-paso {
        gap: 8px;
    }

    .stat-conciliacion {
        min-width: 100px;
        padding: 12px 16px;
    }

    .stat-numero {
        font-size: 22px;
    }

    .listado-estado {
        flex-direction: column;
        text-align: center;
    }

    .estado-info {
        text-align: center;
    }
}

/* ==========================================
   MODAL VINCULACIÓN MANUAL
   ========================================== */

.modal-vincular-manual {
    max-width: 650px;
    width: 95%;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
}

.modal-vincular-manual .modal-eliminar-body {
    overflow-y: auto;
    flex: 1;
    max-height: calc(90vh - 140px);
}

#modal-vincular-multiples {
    max-width: 700px;
}

#modal-vincular-multiples .modal-eliminar-body {
    max-height: calc(90vh - 160px);
}

.info-elemento-vincular {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border: 1px solid #93c5fd;
    border-radius: 10px;
    padding: 16px;
    margin-bottom: 16px;
}

.info-elemento-vincular .elemento-tipo {
    font-size: 12px;
    font-weight: 600;
    color: #3b82f6;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
}

.info-elemento-vincular .elemento-principal {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
}

.info-elemento-vincular .elemento-descripcion {
    font-size: 15px;
    font-weight: 600;
    color: #1e3a8a;
    flex: 1;
}

.info-elemento-vincular .elemento-monto {
    font-size: 18px;
    font-weight: 700;
    color: #1d4ed8;
    white-space: nowrap;
}

.info-elemento-vincular .elemento-detalles {
    display: flex;
    gap: 16px;
    margin-top: 10px;
    font-size: 13px;
    color: #64748b;
}

.info-elemento-vincular .elemento-detalle {
    display: flex;
    align-items: center;
    gap: 4px;
}

.info-elemento-vincular .elemento-detalle-label {
    font-weight: 500;
}

/* Filtros de vinculación */
.vincular-filtros {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 16px;
}

.vincular-filtros .filtro-busqueda {
    flex: 1;
}

.vincular-filtros .filtro-busqueda input {
    width: 100%;
    padding: 10px 14px;
    border-radius: 8px;
    font-size: 14px;
}

.vincular-filtros .filtro-estado {
    display: flex;
    align-items: center;
    gap: 8px;
}

.vincular-filtros .filtro-estado label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: #64748b;
    cursor: pointer;
}

.vincular-filtros .filtro-estado input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: #3b82f6;
    cursor: pointer;
}

/* Lista de opciones */
.vincular-lista-container {
    border: 1px solid #e5e7eb;
    border-radius: 10px;
    overflow: hidden;
}

.vincular-lista-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    background: #f8fafc;
    border-bottom: 1px solid #e5e7eb;
    flex-wrap: wrap;
    gap: 8px;
}

.vincular-lista-header span:first-child {
    font-weight: 600;
    color: #374151;
    font-size: 14px;
}

.vincular-lista-header-left {
    display: flex;
    align-items: center;
    gap: 12px;
}

.vincular-ordenar-container {
    display: flex;
    align-items: center;
    gap: 6px;
}

.vincular-ordenar-container label {
    font-size: 12px;
    color: #64748b;
    font-weight: 500;
}

.vincular-ordenar-select {
    padding: 4px 8px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 12px;
    background: white;
    color: #374151;
    cursor: pointer;
    min-width: 120px;
}

.vincular-ordenar-select:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
}

.vincular-orden-btn {
    padding: 4px 8px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    background: white;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.15s ease;
}

.vincular-orden-btn:hover {
    background: #f1f5f9;
    border-color: #3b82f6;
}

.badge-count {
    background: #3b82f6;
    color: white;
    font-size: 12px;
    font-weight: 600;
    padding: 2px 10px;
    border-radius: 12px;
}

.vincular-lista-opciones {
    max-height: 350px;
    overflow-y: auto;
}

.vincular-lista-opciones::-webkit-scrollbar {
    width: 6px;
}

.vincular-lista-opciones::-webkit-scrollbar-track {
    background: #f1f5f9;
}

.vincular-lista-opciones::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
}

.vincular-opcion-item {
    display: flex;
    align-items: center;
    padding: 14px 16px;
    border-bottom: 1px solid #f1f5f9;
    cursor: pointer;
    transition: all 0.15s ease;
}

.vincular-opcion-item:hover {
    background: #f8fafc;
}

.vincular-opcion-item.selected {
    background: #eff6ff;
    border-left: 3px solid #3b82f6;
}

.vincular-opcion-item:last-child {
    border-bottom: none;
}

.vincular-opcion-radio {
    width: 20px;
    height: 20px;
    margin-right: 12px;
    accent-color: #3b82f6;
    cursor: pointer;
}

.vincular-opcion-info {
    flex: 1;
    min-width: 0;
}

.vincular-opcion-numero {
    font-size: 14px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 4px;
}

.vincular-opcion-descripcion {
    font-size: 13px;
    color: #6b7280;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.vincular-opcion-monto {
    text-align: right;
    margin-left: 12px;
}

.vincular-opcion-monto .monto-valor {
    font-size: 15px;
    font-weight: 600;
    color: #059669;
}

.vincular-opcion-monto .monto-diferencia {
    font-size: 11px;
    color: #64748b;
    margin-top: 2px;
}

.vincular-opcion-monto .monto-diferencia.compatible {
    color: #059669;
}

.vincular-opcion-monto .monto-diferencia.warning {
    color: #f59e0b;
}

.vincular-opcion-monto .monto-diferencia.error {
    color: #ef4444;
}

.vincular-opcion-estado {
    margin-left: 12px;
}

.vincular-opcion-estado .estado-badge {
    font-size: 11px;
    padding: 3px 8px;
    border-radius: 6px;
    font-weight: 500;
}

.vincular-opcion-estado .estado-badge.sin-vincular {
    background: #fef3c7;
    color: #92400e;
}

.vincular-opcion-estado .estado-badge.parcial {
    background: #fed7aa;
    color: #c2410c;
}

.vincular-opcion-estado .estado-badge.completo {
    background: #dcfce7;
    color: #166534;
}

/* Lista vacía */
.vincular-lista-vacia {
    padding: 40px 20px;
    text-align: center;
    color: #9ca3af;
}

.vincular-lista-vacia .icono {
    font-size: 32px;
    margin-bottom: 12px;
}

.vincular-lista-vacia .mensaje {
    font-size: 14px;
}

/* Responsive */
@media (max-width: 600px) {
    .modal-vincular-manual {
        max-width: 100%;
        width: 100%;
        height: 100%;
        max-height: 100%;
        border-radius: 0;
    }

    .vincular-lista-opciones {
        max-height: calc(100vh - 400px);
    }

    .info-elemento-vincular .elemento-principal {
        flex-direction: column;
        align-items: flex-start;
    }

    .info-elemento-vincular .elemento-monto {
        margin-top: 8px;
    }
}
